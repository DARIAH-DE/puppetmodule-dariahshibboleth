#dariahshibboleth

##Overview

Provides the puppet configuration for Shibboleth.

##Module Description

The module provides Shibboleth Service Provider setup.

## Setup

Install the module to modules/dariahshibboleth.

##Usage

You only need to include the main `dariahshibboleth` class in your manifest.
All options can be enabled from hiera.

###Shibboleth options

Shibbleth is installed, if the class is loaded, and not disabled via
```
dariahshiboleth::enable: false
```
You can also provide ssl-keys and additional metadata, see the module for details.

If you want to use Shibboleth with apache, using the `puppetlabs/apache` module, you might need this:

```
$mod_shibd_so = $::apache::apache_version ?
{
  '2.4'   => 'mod_shib_24.so',
  default => 'mod_shib_22.so',
}
::apache::mod { 'shib2':
  id  => 'mod_shib',
  lib => $mod_shibd_so,
}
```
Also, the module create the SP's metadata in
```
/etc/shibboleth/sp-metadata.xml
```
You will probably copy that to your webroot and serve it:
```
Alias /shibboleth /var/www/ShibbolethMetadata.xml
```
to customize the metadata, add your values to hiera:
```
dariahshibboleth::MetaData:
  UIInfo_DisplayName_de: 'MY Service'
  UIInfo_Description_de: 'Beschreibung meines Dienstes'
  UIInfo_Description_en: 'Description of my service'
  UIInfo_InformationURL_en: 'http://www.web.site'
  ContactPerson_support_GivenName: 'support'
  Organization_OrganizationName_en: 'MyOrg'
  Organization_OrganizationDisplayName_en: 'My Organisation'
  Organization_OrganizationURL_en: 'http://www.my.org'

```

you can also use the custom access denied-page:
```
Alias /accessdenied.html /opt/dariahshibboleth/accessdenied.html
ErrorDocument 401 /accessdenied.html 
ErrorDocument 403 /accessdenied.html 
```

##Limitations

Tested on Debian 7.4/7.6 and on Ubuntu 14.04.
Relies on `apt`!

